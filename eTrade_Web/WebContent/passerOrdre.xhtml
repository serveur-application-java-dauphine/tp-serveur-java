<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"> 
    <h:head>
        <meta charset="utf-8" />
        <title>Passer un Ordre</title>
        <h:outputStylesheet library="default" name="css/form.css"  />
    </h:head>
    <h:body>
      <h:form>
         <fieldset>
         	<legend>Passer un ordre</legend>
         	<h:outputLabel value="Bonjour, #{sessionUserManagedBean.utilisateur.firstname}"></h:outputLabel>
         	<br /><br />
         	
         	<h:outputLabel for="societe">Société<span class="requis">*</span></h:outputLabel>
         	<h:selectOneMenu value="#{ordreManagedBean.ordre.produit.societe.idSociete}" required="true" >
	       		<f:selectItems value="#{societeManagedBean.listSocietes}" var="societe"
        		itemValue="#{societe.idSociete}" itemLabel="#{societe.name}"/>
	       	</h:selectOneMenu>
         	<br /><br />
         	
			<h:outputLabel for="produit">Produit<span class="requis">*</span></h:outputLabel>
         	<f:valueChangeListener> value="#{ordreManagedBean.ordre.produit.typeProduit.idTypeProduit}" required="true" >
	       		<f:selectItems value="#{ordreManagedBean.ordre.produit.societe.produits}" var="Produit"
        		itemValue="#{Produit.typeProduit.idTypeProduit}" itemLabel="#{Produit.typeProduit.idTypeProduit}"/>
	       	</f:valueChangeListener>>
	        <br /><br />
	        
	        <h:messages globalOnly="true" infoClass="info" />
	
	        <h:commandButton value="passerOrdre" action="#{ordreManagedBean.passerOrdre()}" styleClass="sansLabel" />
	        <br />
          </fieldset>
        </h:form> 	
    </h:body>
</html>
